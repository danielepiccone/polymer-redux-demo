<link rel="import" href="../bower_components/polymer-redux/polymer-redux.html" />

<script>
  const initialState = {
    count: 0
  };

  const reducer = (state, action) => {
    if (!state) {
      return initialState;
    }

    const { type, payload } = action;

    switch (type) {
      case 'UPDATE':
        if (isNaN(payload)) {
          return state
        } else {
          return { count: state.count + payload || 0 }
        }
      case 'RESET':
        return { count: initialState.count }
      default:
        return state;
    }
  };

  const store = Redux.createStore(reducer);
  const ReduxMixin = PolymerRedux(store);
</script>
